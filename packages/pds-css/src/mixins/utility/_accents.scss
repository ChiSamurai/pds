@use "../../coerce" as *;

@mixin accent($accent, $properties, $prefix: null, $accent-color: var(--#{$accent})) {
  $class-name: if($prefix != null, "#{$prefix}-#{$accent}", $accent);
  .#{$class-name} {
    @each $property in to-list($properties) {
      #{$property}: $accent-color;
    }
  }
}

@mixin accents($accents, $properties, $prefix: null) {
  @if type-of($accents) == list {
    @each $accent in $accents {
      @include accent($accent, $properties, $prefix);
    }
  } @else if type-of($accents) == map {
    @each $accent, $accent-color in $accents {
      @include accent($accent, $properties, $prefix, $accent-color);
    }
  } @else {
    @error "Unable to include accents. Unsupported accents input \"#{$accents}\"";
  }
}

@mixin color-accents($accents, $prefix: null) {
  @include accents($accents, color, $prefix);
}
@mixin background-color-accents($accents, $prefix: null) {
  @include accents($accents, background-color, $prefix);
}
